# TigerTrade回测分析报告

> 时间: 2026-01-21
> 目标: 月收益20%
> 状态: ❌ 未达成

---

## 回测结果对比

### 原始策略（训练时）
```
月收益: 2.87%
方向准确率: 76.45%
Sharpe比率: 11.74
最大回撤: 3.21%
策略: 简单做多
```

### V1策略（2.5x杠杆 + 做空）
```
月收益: 0.00%
交易次数: 0次
问题: 信号阈值太高（>2%），预测范围小（-1.5%到0.4%），完全没有交易
```

### V2策略（3x杠杆 + 激进）
```
月收益: -2490.03% ❌
总亏损: -59.66%
交易次数: 295次
最大回撤: -149.72%
问题: 过度交易，杠杆放大亏损
```

---

## 根本问题分析

### 1. 模型预测范围过小 ⚠️
```python
预测范围: [-0.0152, 0.0042]  # 只有-1.5%到0.4%

问题：
- 模型训练时使用的target可能是短期收益（1分钟）
- 预测的是"微小"的价格变化
- 不适合用于"月度20%收益"的目标
```

### 2. 目标不匹配 ⚠️
```
训练目标: 预测短期价格变化（1分钟级别）
回测目标: 实现20%月收益（需要累积大量交易）

矛盾：
- 模型擅长预测方向（76%准确率）
- 但预测幅度太小（<2%）
- 即使准确，单笔收益也很少
```

### 3. 杠杆和频率问题 ⚠️
```
- 杠杆放大了亏损，也放大了交易成本
- 高频交易（295次）导致大量手续费
- 止损频繁触发，没有给盈利交易足够时间
```

---

## 解决方案

### 方案A: 重新训练模型 ⭐ 推荐

**问题**:
- 当前模型预测的是1分钟收益率
- 需要模型预测更长周期的收益（如每日收益）

**方案**:
```python
# 修改target定义
# 原来: target = (price_future_1min - price_current) / price_current
# 改为: target = (price_future_1day - price_current) / price_current

# 或使用累积收益
target = (price_future_60min - price_current) / price_current
```

**预期**:
- 预测范围扩大到±5-10%
- 单笔交易收益增加
- 更容易达成20%月收益

---

### 方案B: 接受现实，降低目标

**当前实际情况**:
- 模型方向准确率: 76.45%
- 简单策略月收益: 2.87%

**调整目标**:
- 短期目标: 5%月收益（可行）
- 中期目标: 10%月收益（需优化）
- 长期目标: 20%月收益（需重训模型）

**优势**:
- 现实可行
- 风险可控
- 可以持续优化

---

### 方案C: 改变策略类型

**不依赖单次大收益，而是通过组合策略**:

1. **网格交易**
   - 在价格区间内高抛低吸
   - 利用波动性赚取差价
   - 月收益潜力: 5-15%

2. **套利策略**
   - 不同合约间套利
   - 利用模型预测相对强弱
   - 风险更低

3. **趋势跟踪**
   - 使用模型识别趋势
   - 持有时间更长
   - 减少交易频率

---

## 技术分析

### 为什么方向准确率高但收益低？

```
案例分析：
预测1: 涨0.5% → 实际涨0.6% ✅ 准确，但收益小
预测2: 跌0.3% → 实际跌0.4% ✅ 准确，但收益小
预测3: 涨1.2% → 实际涨1.1% ✅ 准确，收益稍好
...

问题：
- 76%准确率很好
- 但每次收益<1%
- 扣除成本后，净收益更小
- 需要100+次正确交易才能达到20%
```

### 数学计算

```
要达到20%月收益：
- 如果每次赚0.5%，需要: log(1.20)/log(1.005) ≈ 37次成功交易
- 如果准确率76%，需要: 37/0.76 ≈ 49次交易
- 考虑亏损（-0.5%），实际需要: 80-100次交易
- 扣除成本0.05%，更难达成

结论：用1分钟级预测很难达到20%月收益
```

---

## 建议行动

### 立即可行（今天）

**选项1**: 接受2.87%月收益，优化到5%
```python
# 使用保守策略
- 无杠杆或低杠杆（1.5x）
- 严格止损（-1%）
- 只做高置信度交易（>80%）
```

**选项2**: 暂停盈利目标，专注AgentFuture
```
- 承认当前模型限制
- 完成AgentFuture Redis版本
- 实现跨机协作
- 未来用更好的模型+协作优化策略
```

### 中期计划（本周）

**重新训练模型**:
1. 修改target为日收益或小时收益
2. 增加更多数据
3. 调整模型架构
4. 目标：预测范围扩大到±5%

### 长期规划

**完整的交易系统**:
1. 多个模型ensemble
2. 风险管理系统
3. 实盘A/B测试
4. 持续优化

---

## 当前决策点

用户选择了方案C（并行推进），现在：

### Track A - TigerTrade
```
现状: 回测未达目标
选择:
[A1] 接受现实：2.87%月收益，继续优化
[A2] 重新训练模型：目标更长周期预测
[A3] 暂停盈利目标：专注AgentFuture
```

### Track B - AgentFuture  
```
计划: 实现Redis后端
建议: 先完成这个，为未来协作优化奠定基础
```

---

## 我的建议

**选择 A1 + Track B 并行**:

理由：
1. 当前模型有价值（76%准确率）
2. 2.87%月收益是可靠的基线
3. 完成AgentFuture更重要（长期价值）
4. 未来可用多Agent协作优化模型

具体：
- 保持简单策略，确保2-5%稳定收益
- 完成Redis版AgentFuture
- 实现跨机协作
- 未来用协作机制优化模型和策略

---

*分析人: Claude*
*时间: 2026-01-21*
*结论: 20%月收益目标需要重新训练模型或调整期望*

