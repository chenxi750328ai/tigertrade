# æ—¶æ®µè‡ªé€‚åº”ç­–ç•¥ä½¿ç”¨è¯´æ˜

**æ—¥æœŸ**: 2026-01-21  
**ç‰ˆæœ¬**: 1.0

---

## ğŸ“‹ ä¸€ã€æ¦‚è¿°

æ—¶æ®µè‡ªé€‚åº”ç­–ç•¥é€šè¿‡**æ•°æ®é©±åŠ¨åˆ†æ**å’Œ**å¤§æ¨¡å‹è¾…åŠ©åˆ†æ**ï¼Œè‡ªåŠ¨è¯†åˆ«ä¸åŒæ—¶æ®µçš„ç‰¹å¾ï¼ˆæ³¢åŠ¨ç‡ã€æ»‘ç‚¹ç‡ã€æµåŠ¨æ€§ï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´ç½‘æ ¼å‚æ•°ï¼Œé¿å…æ»‘ç‚¹ä¾µèš€åˆ©æ¶¦ã€‚

### æ ¸å¿ƒç‰¹æ€§

1. **æ•°æ®é©±åŠ¨**: ä»å†å²æ•°æ®è‡ªåŠ¨æå–æ—¶æ®µç‰¹å¾ï¼Œä¸ä¾èµ–å›ºå®šè§„åˆ™
2. **å¤§æ¨¡å‹è¾…åŠ©**: ä½¿ç”¨å¤§æ¨¡å‹è¯†åˆ«å¼‚å¸¸æ¨¡å¼ï¼Œæä¾›å‚æ•°å»ºè®®
3. **å‚è€ƒè§„åˆ™å…œåº•**: å½“æ•°æ®ä¸è¶³æ—¶ï¼Œä½¿ç”¨å‚è€ƒè§„åˆ™ä½œä¸ºå…œåº•
4. **è‡ªåŠ¨æ›´æ–°**: æ”¯æŒå®šæœŸåˆ·æ–°æ—¶æ®µåˆ†æï¼Œé€‚åº”å¸‚åœºå˜åŒ–

---

## ğŸ—ï¸ äºŒã€æ¶æ„è®¾è®¡

### 2.1 æ¨¡å—ç»“æ„

```
tigertrade/
â”œâ”€â”€ scripts/analysis/
â”‚   â”œâ”€â”€ time_period_analyzer.py      # æ•°æ®é©±åŠ¨çš„æ—¶æ®µåˆ†æå™¨
â”‚   â””â”€â”€ llm_period_analyzer.py       # å¤§æ¨¡å‹è¾…åŠ©åˆ†æå™¨
â”œâ”€â”€ src/strategies/
â”‚   â””â”€â”€ time_period_strategy.py      # æ—¶æ®µè‡ªé€‚åº”ç­–ç•¥æ¨¡å—
â””â”€â”€ shared_rag/trading_strategy/
    â””â”€â”€ SIL2603_æ—¶æ®µåˆ†æå‚è€ƒè§„åˆ™_å¯èƒ½å˜åŒ–_20260121.md  # å‚è€ƒè§„åˆ™ï¼ˆRAGï¼‰
```

### 2.2 æ•°æ®æµ

```
å†å²Kçº¿æ•°æ®
    â†“
[æ•°æ®é©±åŠ¨åˆ†æ] â†’ æ—¶æ®µæ³¢åŠ¨ç‡ã€æµåŠ¨æ€§ç»Ÿè®¡
    â†“
[å¤§æ¨¡å‹åˆ†æ] â†’ å¼‚å¸¸æ£€æµ‹ã€å‚æ•°å»ºè®®
    â†“
[æ—¶æ®µé…ç½®ç”Ÿæˆ] â†’ æ—¶æ®µå‚æ•°è¡¨
    â†“
[ç­–ç•¥ä½¿ç”¨] â†’ åŠ¨æ€è°ƒæ•´ç½‘æ ¼å‚æ•°
```

### 2.3 ä¼˜å…ˆçº§æœºåˆ¶

1. **æ•°æ®é©±åŠ¨åˆ†æç»“æœ**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. **å¤§æ¨¡å‹åˆ†æå»ºè®®**ï¼ˆæ¬¡ä¼˜å…ˆçº§ï¼‰
3. **å‚è€ƒè§„åˆ™è¡¨**ï¼ˆå…œåº•å‚è€ƒï¼‰

---

## ğŸš€ ä¸‰ã€å¿«é€Ÿå¼€å§‹

### 3.1 åŸºæœ¬ä½¿ç”¨

```python
from src.strategies.time_period_strategy import TimePeriodStrategy

# åˆå§‹åŒ–ç­–ç•¥
strategy = TimePeriodStrategy(symbol="SIL2603")

# è·å–å½“å‰æ—¶æ®µé…ç½®
current_config = strategy.get_current_period_config()
print(f"å½“å‰æ—¶æ®µ: {current_config}")

# è·å–ç½‘æ ¼å‚æ•°ï¼ˆåŸºäºå½“å‰ä»·æ ¼ï¼‰
grid_params = strategy.get_grid_parameters(current_price=25.0)
print(f"ç½‘æ ¼é—´è·: {grid_params['grid_step']}")
print(f"æœ€å¤§ä»“ä½: {grid_params['max_position']}")
```

### 3.2 æ•°æ®é©±åŠ¨åˆ†æ

```python
from scripts.analysis.time_period_analyzer import TimePeriodAnalyzer

# åˆå§‹åŒ–åˆ†æå™¨
analyzer = TimePeriodAnalyzer(symbol="SIL2603")

# åˆ†ææœ€è¿‘30å¤©çš„æ•°æ®
result = analyzer.analyze_from_klines(days=30)

# æ‰“å°åˆ†ææŠ¥å‘Š
analyzer.print_analysis_report(result)

# ä¿å­˜ç»“æœ
import json
with open('period_analysis.json', 'w') as f:
    json.dump(result, f, indent=2, default=str)
```

### 3.3 å¤§æ¨¡å‹è¾…åŠ©åˆ†æ

```python
from scripts.analysis.llm_period_analyzer import LLMPeriodAnalyzer
from scripts.analysis.time_period_analyzer import TimePeriodAnalyzer

# æ•°æ®é©±åŠ¨åˆ†æ
analyzer = TimePeriodAnalyzer(symbol="SIL2603")
data_result = analyzer.analyze_from_klines(days=30)

# å¤§æ¨¡å‹è¾…åŠ©åˆ†æ
llm_analyzer = LLMPeriodAnalyzer(analyzer)
llm_result = llm_analyzer.analyze_with_llm(data_result, use_api=False)

# ç”ŸæˆæŠ¥å‘Š
report = llm_analyzer.generate_period_report(data_result, llm_result)
print(report)
```

---

## ğŸ”§ å››ã€æ•´åˆåˆ°ç°æœ‰ç­–ç•¥

### 4.1 åœ¨tiger1.pyä¸­é›†æˆ

```python
# åœ¨tiger1.pyé¡¶éƒ¨å¯¼å…¥
from src.strategies.time_period_strategy import TimePeriodStrategy

# åˆå§‹åŒ–æ—¶æ®µç­–ç•¥ï¼ˆå…¨å±€æˆ–æ¨¡å—çº§ï¼‰
time_period_strategy = TimePeriodStrategy(symbol=FUTURE_SYMBOL)

# åœ¨adjust_grid_intervalå‡½æ•°ä¸­ä½¿ç”¨
def adjust_grid_interval(trend, indicators):
    global grid_upper, grid_lower
    
    # è·å–å½“å‰ä»·æ ¼
    current_price = indicators['5m']['close']
    
    # è·å–æ—¶æ®µè‡ªé€‚åº”ç½‘æ ¼å‚æ•°
    grid_params = time_period_strategy.get_grid_parameters(current_price)
    
    # ä½¿ç”¨æ—¶æ®µè‡ªé€‚åº”çš„ç½‘æ ¼å‚æ•°
    grid_upper = grid_params['grid_upper']
    grid_lower = grid_params['grid_lower']
    
    # æ›´æ–°æœ€å¤§ä»“ä½
    global GRID_MAX_POSITION
    GRID_MAX_POSITION = grid_params['max_position']
    
    print(f"æ—¶æ®µè‡ªé€‚åº”: {grid_params['period_name']}, "
          f"ç½‘æ ¼é—´è·={grid_params['grid_step']:.4f}, "
          f"æœ€å¤§ä»“ä½={grid_params['max_position']}")
```

### 4.2 å®šæœŸåˆ·æ–°æ—¶æ®µåˆ†æ

```python
# åœ¨ç­–ç•¥ä¸»å¾ªç¯ä¸­æ·»åŠ å®šæœŸåˆ·æ–°
import threading
import time

def refresh_period_analysis():
    """å®šæœŸåˆ·æ–°æ—¶æ®µåˆ†æï¼ˆæ¯å¤©ä¸€æ¬¡ï¼‰"""
    while True:
        time.sleep(86400)  # 24å°æ—¶
        time_period_strategy.refresh_analysis(days=30)

# å¯åŠ¨åå°çº¿ç¨‹
refresh_thread = threading.Thread(target=refresh_period_analysis, daemon=True)
refresh_thread.start()
```

---

## ğŸ“Š äº”ã€æ—¶æ®µé…ç½®æ ¼å¼

### 5.1 é…ç½®ç»“æ„

```json
{
  "period_configs": {
    "COMEX_æ¬§ç¾é«˜å³°": {
      "volatility": 2.0,
      "slippage_rate": 0.008,
      "balance_threshold": 0.48,
      "max_position": 10,
      "order_offset": 0.02,
      "data_quality": {
        "volatility_data_count": 1500,
        "slippage_data_count": 200
      }
    }
  }
}
```

### 5.2 é…ç½®å­—æ®µè¯´æ˜

| å­—æ®µ | è¯´æ˜ | å•ä½ |
|------|------|------|
| volatility | æ³¢åŠ¨ç‡ï¼ˆå€æ•°å½¢å¼ï¼‰ | æ—  |
| slippage_rate | æ»‘ç‚¹ç‡ï¼ˆå°æ•°å½¢å¼ï¼‰ | æ—  |
| balance_threshold | å¹³è¡¡é˜ˆå€¼ï¼ˆæœ€å°ç½‘æ ¼é—´è·ï¼‰ | ç¾å…ƒ |
| max_position | æœ€å¤§ä»“ä½ | æ‰‹ |
| order_offset | é™ä»·å•åç¦»å¹…åº¦ | ç¾å…ƒ |
| data_quality | æ•°æ®è´¨é‡æŒ‡æ ‡ | - |

---

## ğŸ”„ å…­ã€æ›´æ–°å’Œç»´æŠ¤

### 6.1 å®šæœŸæ›´æ–°

**å»ºè®®æ›´æ–°é¢‘ç‡**:
- **æ•°æ®é©±åŠ¨åˆ†æ**: æ¯æ—¥æ›´æ–°ï¼ˆè‡ªåŠ¨ï¼‰
- **å¤§æ¨¡å‹åˆ†æ**: æ¯å‘¨æ›´æ–°
- **å‚è€ƒè§„åˆ™å®¡æŸ¥**: æ¯æœˆå®¡æŸ¥ï¼Œé‡å¤§äº‹ä»¶åç«‹å³å®¡æŸ¥

### 6.2 äº‹ä»¶å½±å“å¤„ç†

å½“å‘ç”Ÿé‡å¤§äº‹ä»¶æ—¶ï¼ˆå¦‚ç»æµæ•°æ®å‘å¸ƒã€å¤®è¡Œæ”¿ç­–ï¼‰ï¼Œåº”ï¼š

1. **ç«‹å³é‡æ–°åˆ†æ**: åˆ†æäº‹ä»¶å‰åçš„æ—¶æ®µç‰¹å¾å˜åŒ–
2. **æ›´æ–°é…ç½®**: å¦‚æœå‘ç°æ˜¾è‘—å˜åŒ–ï¼Œç«‹å³æ›´æ–°æ—¶æ®µé…ç½®
3. **ç›‘æ§å¼‚å¸¸**: æŒç»­ç›‘æ§æ—¶æ®µç‰¹å¾ï¼Œè¯†åˆ«å¼‚å¸¸å˜åŒ–

```python
# æ£€æµ‹äº‹ä»¶å½±å“
from scripts.analysis.llm_period_analyzer import LLMPeriodAnalyzer

llm_analyzer = LLMPeriodAnalyzer(analyzer)
event_impact = llm_analyzer.detect_event_impact(
    analysis_result,
    event_dates=['2026-01-15', '2026-01-20']
)
```

### 6.3 é…ç½®éªŒè¯

å®šæœŸéªŒè¯æ—¶æ®µé…ç½®çš„æœ‰æ•ˆæ€§ï¼š

```python
# å›æµ‹éªŒè¯
def backtest_period_config(period_configs, historical_data):
    """å›æµ‹æ—¶æ®µé…ç½®çš„æœ‰æ•ˆæ€§"""
    # TODO: å®ç°å›æµ‹é€»è¾‘
    pass
```

---

## âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹

### 7.1 æ•°æ®è´¨é‡

- **æ•°æ®é‡è¦æ±‚**: æ¯ä¸ªæ—¶æ®µè‡³å°‘éœ€è¦10-20ä¸ªæ•°æ®ç‚¹æ‰èƒ½è¿›è¡Œå¯é åˆ†æ
- **æ•°æ®æ—¶æ•ˆæ€§**: ä½¿ç”¨æœ€è¿‘30-60å¤©çš„æ•°æ®ï¼Œé¿å…ä½¿ç”¨è¿‡æ—§æ•°æ®
- **æ•°æ®å®Œæ•´æ€§**: ç¡®ä¿Kçº¿æ•°æ®å®Œæ•´ï¼Œé¿å…ç¼ºå¤±æ—¶æ®µ

### 7.2 æ—¶æ®µè¯†åˆ«

- **æ—¶åŒºå¤„ç†**: ç¡®ä¿æ—¶é—´æˆ³æ­£ç¡®è½¬æ¢ä¸ºåŒ—äº¬æ—¶é—´
- **å¤ä»¤æ—¶/å†¬ä»¤æ—¶**: æ³¨æ„COMEXæ—¶æ®µçš„å¤ä»¤æ—¶/å†¬ä»¤æ—¶åˆ‡æ¢
- **èŠ‚å‡æ—¥**: èŠ‚å‡æ—¥å¯èƒ½å½±å“æ—¶æ®µç‰¹å¾ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†

### 7.3 æ»‘ç‚¹ç‡ç»Ÿè®¡

- **è®¢å•æ•°æ®**: éœ€è¦ä»äº¤æ˜“æ—¥å¿—ä¸­æå–è®¢å•æ•°æ®æ‰èƒ½ç»Ÿè®¡å®é™…æ»‘ç‚¹ç‡
- **æ•°æ®ä¸è¶³**: å¦‚æœè®¢å•æ•°æ®ä¸è¶³ï¼Œå°†ä½¿ç”¨å‚è€ƒè§„åˆ™æˆ–ä¼°ç®—å€¼
- **é™ä»·å•vså¸‚ä»·å•**: æ³¨æ„åŒºåˆ†é™ä»·å•å’Œå¸‚ä»·å•çš„æ»‘ç‚¹ç‡

### 7.4 å¼‚å¸¸å¤„ç†

- **å¼‚å¸¸æ—¶æ®µ**: è‡ªåŠ¨æ£€æµ‹å¼‚å¸¸æ—¶æ®µï¼Œä½†éœ€è¦äººå·¥ç¡®è®¤
- **å¸‚åœºç»“æ„å˜åŒ–**: å¦‚æœå¸‚åœºç»“æ„å‘ç”Ÿé‡å¤§å˜åŒ–ï¼Œéœ€è¦é‡æ–°åˆ†æ
- **ç³»ç»Ÿæ•…éšœ**: å¦‚æœæ•°æ®é©±åŠ¨åˆ†æå¤±è´¥ï¼Œè‡ªåŠ¨é™çº§åˆ°å‚è€ƒè§„åˆ™

---

## ğŸ“ˆ å…«ã€é¢„æœŸæ•ˆæœ

### 8.1 ç›´æ¥æ”¶ç›Š

- **æ»‘ç‚¹æˆæœ¬é™ä½**: 30-50%
- **ä½æ³¢åŠ¨æ—¶æ®µäºæŸå‡å°‘**: é¿å…æ»‘ç‚¹ä¾µèš€åˆ©æ¶¦
- **é«˜æ³¢åŠ¨æ—¶æ®µæ”¶ç›Šæå‡**: 20-30%

### 8.2 é£é™©æ§åˆ¶

- **é¿å…æ»‘ç‚¹ä¾µèš€**: ç¡®ä¿ç½‘æ ¼é—´è· â‰¥ å¹³è¡¡é˜ˆå€¼
- **æ—¶æ®µä»“ä½é€‚é…**: ä½æ³¢åŠ¨æ—¶æ®µè‡ªåŠ¨é™ä»“
- **é™ä»·å•ä¼˜åŒ–**: æŒ‰æ—¶æ®µè°ƒæ•´åç¦»å¹…åº¦

---

## ğŸ”— ä¹ã€ç›¸å…³æ–‡æ¡£

- [æ—¶æ®µåˆ†æå‚è€ƒè§„åˆ™ï¼ˆRAGï¼‰](../shared_rag/trading_strategy/SIL2603_æ—¶æ®µåˆ†æå‚è€ƒè§„åˆ™_å¯èƒ½å˜åŒ–_20260121.md)
- [ç­–ç•¥é€»è¾‘å¯¹æ¯”åˆ†æ](./SIL2603_ç­–ç•¥é€»è¾‘å¯¹æ¯”åˆ†æ.md)
- [æ—¶æ®µåˆ†æå™¨APIæ–‡æ¡£](../scripts/analysis/time_period_analyzer.py)

---

## ğŸ“ åã€æ›´æ–°è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | æ›´æ–°å†…å®¹ |
|------|------|----------|
| 2026-01-21 | 1.0 | åˆå§‹ç‰ˆæœ¬ï¼Œå®ç°æ•°æ®é©±åŠ¨æ—¶æ®µåˆ†æ |

---

**é‡è¦æç¤º**: 
- âš ï¸ æ—¶æ®µç‰¹å¾å¯èƒ½å› å¸‚åœºå˜åŒ–è€Œæ”¹å˜ï¼Œå»ºè®®å®šæœŸæ›´æ–°åˆ†æ
- âš ï¸ é‡å¤§äº‹ä»¶ååº”ç«‹å³é‡æ–°åˆ†ææ—¶æ®µç‰¹å¾
- âš ï¸ æ•°æ®é©±åŠ¨åˆ†æç»“æœä¼˜å…ˆäºå‚è€ƒè§„åˆ™
