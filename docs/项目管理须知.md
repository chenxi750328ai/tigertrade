# 项目管理须知

> **适用于所有项目** - 保持代码库整洁、专业、易维护

## 🎯 核心原则

### 1. 根目录极简原则 ⭐⭐⭐

**根目录只保留核心文件（≤5个）**

✅ **允许在根目录的文件**：
- `README.md` - 项目主文档
- `CHANGELOG.md` - 变更日志
- `LICENSE` - 许可证文件
- 1-2个核心启动脚本（如 `run_download_and_train.sh`）
- `.gitignore` - Git配置

❌ **禁止在根目录的文件**：
- 临时脚本（如 `start_xxx.sh`, `test_xxx.py`）
- 示例文件（如 `example_xxx.py`）
- 报告文件（如 `report_xxx.md`, `summary_xxx.txt`）
- 日志文件（如 `*.log`, `*.txt`）
- 临时数据（如 `*.csv`, `*.json`）
- 调试文件（如 `debug_xxx.py`, `temp_xxx.py`）

### 2. 文件分类归档原则

**每个文件都有明确的归属目录**

```
项目根目录/
├── src/                    # 源代码
├── scripts/                # 脚本工具
│   ├── examples/          # 示例脚本
│   ├── utils/             # 工具脚本
│   └── data_collection/   # 数据采集脚本
├── tools/                  # 开发工具
│   ├── debug/             # 调试工具
│   ├── performance/       # 性能工具
│   └── testing/           # 测试工具
├── docs/                   # 文档
│   ├── guides/            # 使用指南
│   └── reports/           # 历史报告
├── archive/                # 归档
│   ├── temp_reports/      # 临时报告
│   └── deprecated/        # 废弃文件
└── tests/                  # 测试文件
```

---

## 📁 文件放置规则

### 启动脚本

**主启动脚本** → 根目录（仅1-2个）
```bash
✅ run_download_and_train.sh  # 主启动脚本
❌ start_sil2603.sh          # 应放在 scripts/examples/
❌ quick_start.sh            # 应放在 scripts/examples/
```

**示例脚本** → `scripts/examples/`
```bash
scripts/examples/
├── start_sil2603.sh
├── start_gold.sh
├── batch_training.sh
└── compare_symbols.sh
```

**工具脚本** → `scripts/utils/`
```bash
scripts/utils/
├── check_progress.sh
├── clean_data.sh
└── export_results.sh
```

### Python脚本

**源代码** → `src/`
```python
src/
├── main.py
├── config.py
└── strategies/
```

**调试工具** → `tools/debug/`
```python
tools/debug/
├── debug_model.py
└── inspect_data.py
```

**测试文件** → `tests/`
```python
tests/
├── test_model.py
└── test_api.py
```

### 文档文件

**主文档** → 根目录（仅README和CHANGELOG）
```markdown
✅ README.md
✅ CHANGELOG.md
❌ 数据说明.md       # 应放在 docs/
❌ 使用指南.md       # 应放在 docs/guides/
```

**详细文档** → `docs/`
```
docs/
├── 数据说明.md
├── API文档.md
├── guides/
│   ├── 快速开始.md
│   └── 高级配置.md
└── reports/
    └── 整理报告.md
```

### 日志和报告

**运行时日志** → `logs/`（应在.gitignore中）
```
logs/
├── training_20260120.log
└── error_20260120.log
```

**临时报告** → `archive/temp_reports/`
```
archive/temp_reports/
├── test_results.txt
└── performance_summary.txt
```

**历史报告** → `docs/reports/`
```
docs/reports/
├── 整理完成报告.md
└── 系统重构总结.md
```

---

## 🚫 常见错误示例

### ❌ 错误做法

```bash
# 在根目录创建临时文件
./
├── start_test.sh          # ❌ 应该在 scripts/examples/
├── debug_model.py         # ❌ 应该在 tools/debug/
├── temp_results.txt       # ❌ 应该在 archive/temp_reports/
├── 数据说明.md            # ❌ 应该在 docs/
├── training.log           # ❌ 应该在 logs/
└── test_output.csv        # ❌ 应该在 data/ 或 .gitignore
```

### ✅ 正确做法

```bash
# 文件各归其位
./
├── README.md                              # ✅ 根目录核心文档
└── run_download_and_train.sh             # ✅ 主启动脚本

scripts/examples/
└── start_test.sh                          # ✅ 示例脚本

tools/debug/
└── debug_model.py                         # ✅ 调试工具

archive/temp_reports/
└── temp_results.txt                       # ✅ 临时报告

docs/
└── 数据说明.md                            # ✅ 详细文档

logs/
└── training.log                           # ✅ 日志文件
```

---

## 📝 创建新文件检查清单

在创建任何新文件前，问自己：

- [ ] 这个文件是核心功能吗？（否 → 不放根目录）
- [ ] 这是主启动脚本吗？（否 → 放 scripts/）
- [ ] 这是文档吗？（是 → 放 docs/）
- [ ] 这是临时文件吗？（是 → 放 archive/temp_reports/）
- [ ] 这是工具/调试文件吗？（是 → 放 tools/）
- [ ] 这是示例吗？（是 → 放 scripts/examples/）

---

## 🎯 实践指南

### 创建新脚本

```bash
# ❌ 错误：直接在根目录创建
echo "#!/bin/bash" > start_new_feature.sh

# ✅ 正确：先确定归属
mkdir -p scripts/examples
echo "#!/bin/bash" > scripts/examples/start_new_feature.sh
```

### 生成报告

```bash
# ❌ 错误：报告生成在根目录
python analyze.py > report.txt

# ✅ 正确：报告生成在指定目录
mkdir -p archive/temp_reports
python analyze.py > archive/temp_reports/report_$(date +%Y%m%d).txt
```

### 创建文档

```bash
# ❌ 错误：详细文档放根目录
vim 使用指南.md

# ✅ 正确：详细文档放docs/
mkdir -p docs/guides
vim docs/guides/使用指南.md
```

---

## 🔍 定期检查

### 每周检查（推荐）

```bash
# 检查根目录文件数量
cd /path/to/project
ls -1 *.py *.sh *.md *.txt *.log 2>/dev/null | wc -l

# 应该 ≤ 5 个
# 如果超过，立即清理
```

### 清理命令模板

```bash
# 清理根目录临时文件
cd /path/to/project

# 移动示例脚本
mv start_*.sh test_*.sh scripts/examples/ 2>/dev/null

# 移动日志
mv *.log *.pid logs/ 2>/dev/null

# 移动临时报告
mv *report*.txt *summary*.txt archive/temp_reports/ 2>/dev/null

# 移动文档
mv *说明*.md *指南*.md docs/ 2>/dev/null

# 移动调试文件
mv debug_*.py temp_*.py tools/debug/ 2>/dev/null
```

---

## 📊 .gitignore 配置

**必须忽略的文件类型**：

```gitignore
# Python
__pycache__/
*.py[cod]
*.so
.Python

# 日志
logs/
*.log

# 数据
data/
*.csv
*.json
*.h5

# 模型
*.pth
*.pt
*.pkl

# 临时文件
*.tmp
*.temp
*.bak

# IDE
.vscode/
.idea/
*.swp

# 运行时
*.pid
```

---

## 🎓 最佳实践

### 1. 项目初始化时

```bash
# 创建标准目录结构
mkdir -p {src,scripts/{examples,utils},tools/{debug,performance,testing},docs/{guides,reports},archive/{temp_reports,deprecated},tests,logs,data}

# 创建核心文件
touch README.md CHANGELOG.md .gitignore

# 创建 .gitignore
cat > .gitignore << 'EOF'
__pycache__/
*.log
logs/
data/
*.pth
EOF
```

### 2. 开发过程中

- ✅ 新功能 → 先创建目录，再创建文件
- ✅ 临时测试 → 放在 `tools/testing/`
- ✅ 脚本示例 → 放在 `scripts/examples/`
- ✅ 调试文件 → 放在 `tools/debug/`

### 3. 代码审查时

检查清单：
- [ ] 根目录文件 ≤ 5个
- [ ] 所有脚本都在子目录
- [ ] 没有临时文件在根目录
- [ ] .gitignore 配置正确
- [ ] 文档组织清晰

---

## 🚀 快速参考

### 文件去向速查表

| 文件类型 | 放置位置 | 示例 |
|---------|---------|------|
| 主文档 | 根目录 | README.md |
| 主启动脚本 | 根目录 | run_main.sh |
| 源代码 | src/ | main.py |
| 示例脚本 | scripts/examples/ | start_example.sh |
| 工具脚本 | scripts/utils/ | clean_data.sh |
| 调试工具 | tools/debug/ | debug.py |
| 性能工具 | tools/performance/ | benchmark.py |
| 详细文档 | docs/ | 使用指南.md |
| 历史报告 | docs/reports/ | 整理报告.md |
| 临时报告 | archive/temp_reports/ | test_output.txt |
| 测试文件 | tests/ | test_main.py |
| 日志文件 | logs/ | app.log |

---

## 💡 记忆口诀

> **根目录只放核心，五个文件就封顶**  
> **脚本示例有专属，工具调试各归位**  
> **文档分类要清晰，临时归档不乱丢**  
> **创建文件先想路，保持项目永整洁**

---

## ⚠️ 警告标志

如果出现以下情况，立即清理：

- ⚠️ 根目录文件超过10个
- ⚠️ 根目录有 `start_*.sh` 或 `test_*.py`
- ⚠️ 根目录有 `.log` 或 `.txt` 文件
- ⚠️ 根目录有多个 `xxx_report.md`
- ⚠️ 根目录有 `debug_*.py` 或 `temp_*.py`

---

## 📚 相关资源

- **Python项目结构**: [Python Application Layouts](https://realpython.com/python-application-layouts/)
- **代码整洁之道**: Clean Code by Robert C. Martin
- **项目管理最佳实践**: [12 Factor App](https://12factor.net/)

---

## ✅ 本项目当前状态

```
tigertrade/
├── README.md                          ✅ 核心文档
├── CHANGELOG.md                       ✅ 变更日志
├── quick_test.py                      ✅ 快速测试
├── run_download_and_train.sh         ✅ 主启动脚本
├── .gitignore                         ✅ Git配置
│
├── 项目管理须知.md                    ✅ 本文件
│
└── [其他都在子目录中]                ✅ 规范
```

**根目录文件数**: 5个 ✅  
**状态**: 符合规范 ✅

---

**创建日期**: 2026-01-20  
**适用范围**: 所有项目  
**必读**: ⭐⭐⭐⭐⭐

**请在每个新项目开始前阅读本文档！**
