# LLM多时间尺度策略实盘测试准备说明

**更新时间**: 2026-01-23  
**状态**: ✅ 准备就绪

---

## ✅ 一、准备工作完成

### 1.1 模型训练完成

- ✅ **训练数据**: 9790条多时间尺度数据
- ✅ **模型文件**: `best_model.pth` (771.6 KB)
- ✅ **特征维度**: 46维（多时间尺度）
- ✅ **序列长度**: 30个时间步（30分钟历史）
- ✅ **验证准确率**: 42.3%

### 1.2 代码集成完成

- ✅ **tiger1.py**: 已更新LLM策略集成
  - 模式: `hybrid`（多时间尺度）
  - 序列长度: 30
  - 收益率预测: 启用
  - 特征维度: 46维

### 1.3 运行脚本

- ✅ **运行脚本**: `scripts/run_llm_strategy_demo.sh`
- ✅ **运行命令**: `python -m src.tiger1 llm`

---

## 🚀 二、运行方式

### 2.1 使用运行脚本

```bash
cd /home/cx/tigertrade
./scripts/run_llm_strategy_demo.sh
```

### 2.2 直接运行

```bash
cd /home/cx/tigertrade
python -m src.tiger1 llm
```

---

## 📊 三、策略配置

### 3.1 模型配置

- **模式**: `hybrid`（计算模式 + 大模型识别）
- **序列长度**: 30个时间步（30分钟历史）
- **特征维度**: 46维（多时间尺度）
- **收益率预测**: 启用
- **网格调整**: 启用

### 3.2 多时间尺度特征（46维）

- **1分钟特征**: 16维（包含真实Tick数据）
- **5分钟特征**: 8维
- **1小时特征**: 9维（包含趋势）
- **日线特征**: 11维（包含均线）
- **网格参数**: 2维

---

## 🎯 四、预期行为

### 4.1 策略运行流程

1. **初始化**: 加载多时间尺度模型
2. **数据获取**: 获取1分钟、5分钟、1小时、日线K线数据
3. **特征提取**: 提取46维多时间尺度特征
4. **序列构建**: 构建30个时间步的历史序列
5. **模型预测**: 使用LSTM模型预测动作、收益率、网格调整
6. **交易执行**: 根据预测结果执行交易

### 4.2 输出信息

策略运行时会输出：
- 📊 当前价格和Tick数据
- 📈 时段自适应网格参数
- 🧠 LLM模型预测结果（动作、置信度、网格调整）
- 📊 价格和网格信息
- 💰 交易执行情况

---

## ⚠️ 五、注意事项

### 5.1 数据要求

- 需要至少30个1分钟K线数据点（用于构建序列）
- 需要5分钟、1小时、日线K线数据（用于多时间尺度特征）
- 建议有Tick数据（用于更准确的特征）

### 5.2 运行环境

- **账户**: DEMO账户（模拟环境）
- **合约**: SIL2603
- **运行时长**: 建议运行20小时观察效果

### 5.3 监控要点

- 模型预测准确率
- 交易执行成功率
- 收益率表现
- 网格参数调整效果

---

## 📈 六、性能指标

### 6.1 训练指标

- **验证准确率**: 42.3%
- **训练准确率**: 45.9%
- **标签分布**: 买入43.39%，卖出45.72%，不操作10.89%

### 6.2 预期表现

- **动作预测**: 基于46维多时间尺度特征
- **收益率预测**: 直接预测未来收益率
- **网格调整**: 动态调整网格参数

---

## ✅ 七、检查清单

运行前请确认：

- [x] 模型文件存在：`/home/cx/trading_data/best_model.pth`
- [x] 训练数据存在：`/home/cx/trading_data/training_data_multitimeframe_*.csv`
- [x] 代码已更新：`tiger1.py`已集成多时间尺度模型
- [x] 运行脚本已创建：`scripts/run_llm_strategy_demo.sh`
- [ ] DEMO账户已配置
- [ ] API连接正常

---

**状态**: ✅ 准备就绪，可以开始实盘测试
